# ============================================
# Esoteric Astrology Chat - Configuration
# ============================================

# ===========================================
# Application Settings
# ===========================================
APP_NAME="Astrology Chat Agent"
ENVIRONMENT=development
DEBUG=true
SECRET_KEY=your-secret-key-here-change-in-production

# ===========================================
# API Server
# ===========================================
HOST=0.0.0.0
PORT=8000
CORS_ORIGINS=http://localhost:5173,http://localhost:3000

# ===========================================
# LLM Provider (Groq - Free Tier!)
# ===========================================
GROQ_API_KEY=your-groq-api-key-here
GROQ_MODEL=llama3-70b-8192
GROQ_TEMPERATURE=0.7
GROQ_MAX_TOKENS=1024

# Fallback: Together.ai (optional)
# TOGETHER_API_KEY=your-together-api-key
# TOGETHER_MODEL=meta-llama/Llama-3-70b-chat-hf

# ===========================================
# Embeddings (OpenAI - $0.02/1M tokens)
# ===========================================
OPENAI_API_KEY=your-openai-api-key-here
EMBEDDING_MODEL=text-embedding-3-small
EMBEDDING_DIMENSIONS=1536

# ===========================================
# Vector Database (Chroma)
# ===========================================
CHROMA_PERSIST_DIRECTORY=./data/chroma
CHROMA_COLLECTION_PREFIX=user_
CHROMA_DISTANCE_METRIC=cosine

# ===========================================
# Astrology (Kerykeion - no API key needed!)
# ===========================================
# Kerykeion is open source - no API key required!
HOUSE_SYSTEM=placidus
ASTROLOGY_SYSTEM=western

# ===========================================
# Authentication
# ===========================================
JWT_SECRET_KEY=your-jwt-secret-key-change-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24
ACCESS_TOKEN_EXPIRE_MINUTES=1440

# ===========================================
# Database
# ===========================================
DATABASE_URL=sqlite:///./data/conversations.db

# ===========================================
# Performance & Cost Control
# ===========================================
MAX_RETRIES=3
REQUEST_TIMEOUT=30
MAX_TOKENS_PER_REQUEST=1024
MAX_CONTEXT_MESSAGES=10  # Limit history to reduce tokens

# RAG Settings
RAG_TOP_K=3
RAG_MIN_SIMILARITY=0.7

# Cost Limits (per user, per day)
MAX_COST_PER_USER_DAILY=0.50
WARN_COST_THRESHOLD=0.30

# ===========================================
# Logging
# ===========================================
LOG_LEVEL=INFO
LOG_FILE=./data/logs/app.log
ENABLE_COST_TRACKING=true

# ===========================================
# Geocoding (for birth location lookup)
# ===========================================
# Using OpenStreetMap Nominatim (free, no key needed)
# Optionally use Google Geocoding API
# GOOGLE_GEOCODING_API_KEY=your-google-key

# ===========================================
# Observability (Optional)
# ===========================================
# LANGSMITH_API_KEY=your-langsmith-key
# LANGSMITH_PROJECT=astrology-chat-agent
# ENABLE_TRACING=false
